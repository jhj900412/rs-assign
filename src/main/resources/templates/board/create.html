<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Rsupport Board Assignment</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<style>
	
		#contentForm {
			width: 30%;
			margin-top :10%;
			margin-left: 20%;
			margin-right: 20%
			padding-top: 12%;
		}
		
		.table > thead > tr > th, .table > tbody > tr > th {
			background-color: #e6ecff;
			text-align: center;
			padding-bottom: 13px
		}
	</style>
</head>

<body>

	<div id="contentForm">
		<div class="input-group input-group-sm" role="group" aria-label="..." style="width: 700px">
			<table class="table table-striped table-bordered">
				<thead>
					<tr>
						<th>제목</th>
						<td>
							<input type="text" name="subject" id="subject"
							class="form-control" aria-describedby="basic-addon1">
						</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td colspan="2">
						<textarea class="form-control" rows="20" name="contents" id="contents" ></textarea>
						</td>
            		</tr>
				</tbody>
			</table>
        
			<div style="width:700px" align="right">
				<input type="button" id="btn_write" class="btn btn-default" value="작성하기">
				<input type="button" class="btn btn-default" value="취소" onclick="document.location.href='/'">
			</div>
		</div>
	</div>
 
	<script src="https://code.jquery.com/jquery-3.2.0.min.js"></script>
	<script>
	
    	jQuery(document).ready(function() {
    		
      		$("#btn_write").click(function() {
    	  		jQuery.ajax({
					type : "POST",
					url : "/board",
					data:{
						"subject":$("#subject").val(),
						"contents":$("#contents").val()
					},
					success : function(data) {
						alert("게시글이 정상적으로 등록되었습니다.")
						location.href="/";
					},
					complete : function(data) {
						
					},
					error : function(xhr, status, error) {
						console.log(xhr);
						console.log(status);
					}
				});
			});
    	});
    	
	</script>
</body>
</html>